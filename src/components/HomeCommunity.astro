---
import { Icon } from 'astro-icon'
import ContentSection from '~/components/ContentSection.astro'
import community from '~/data/community.json'
---

<ContentSection id="community" title="Actions à distance">
	<Fragment slot="lead">
		Une communauté sur <span class="text-primary">Discord</span> ouverte sur parainage
		et adhésions proposants des évènements réguliers.
	</Fragment>

	<ul>
		{
			community.map(({ title, description, icon }) => (
				<li>
					<div>
						<div class="icon">
							<Icon name={icon} />
						</div>
						<p class="title">
							{title}
							</p>
						<p class="description">
							{description}
						</p>
					</div>
				</li>
			))
		}
	</ul>
</ContentSection>

<style lang="scss">
	@keyframes hc-bg-pan-GY7YG {
		from {
			background-position: 0% 0%;
		}
		to {
			background-position: 200% 200%;
		}
	}

	ul {
		animation: hc-bg-pan-GY7YG 3s linear infinite;
		@apply relative max-w-6xl;
		background: radial-gradient(#4b0088, #762449);
		background-size: 200% 200%;
		@apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3;
		gap: 1px;
		margin: 0;
    	padding: 1px;
		overflow: hidden;
		// z-index: 2;

		> li {
			// @apply bg-default;
			// @apply flex flex-col gap-4 border border-default relative;
			inset: .5px;
			cursor: pointer;
			position: relative;
			// @apply block mb-5 p-6 max-w-7xl bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700;
			// @apply bg-gradient-to-bl from-[#320055] to-[#591633];

			&:hover:before {
				background-color: transparent;
				// @apply bg-default;
			}

			&:before {
				transition: background-color .2s ease-in-out;
				// background-color: rgb(15, 15, 15);
				@apply bg-default;
				content: "";
				inset: 0.5px;
				position: absolute;
			}

			> div {
				@apply p-6 backdrop-blur-sm;

				> .icon {
					@apply w-16 h-16 p-3 border-2 border-current rounded-full mx-auto mb-2;
				}

				> p {
					transition: color .2s ease-in-out;
					@apply text-center;
				}

				> .title {
					@apply text-xl font-extrabold text-center mb-2;
				}

				> .description {
					@apply text-sm text-center text-offset;
				}
			}

			&:hover > div > p {
				@apply text-default;
			}
		}
	}
</style>
